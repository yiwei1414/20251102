/* 基本頁面樣式 */
html, body {
    height: 100%;
}

body {
    margin: 0;
    padding: 0;
    min-height: 100vh;
    background-color: #f4f4f4;
    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
}

/* 讓 p5 的 canvas 佔滿整個視窗並置於最下層 */
canvas {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    display: block !important;
    z-index: 0 !important; /* 保證在 trigger 與 sidebar 之下 */
}

/* 隱藏滾動條，畫布覆蓋整頁時通常不需要滾動 */
html, body {
    overflow: hidden;
}

/* 側邊選單 */
#sidebar {
    position: fixed;
    top: 0;
    left: 0;
    height: 100%;
    width: 300px;
    background-color: #333;
    transform: translateX(-300px);
    transition: transform 0.3s ease-in-out;
    z-index: 1001; /* 高於 trigger，確保顯示在上方 */
    box-shadow: 2px 0 5px rgba(0,0,0,0.5);
    padding-top: 20px;
}

#sidebar.active {
    transform: translateX(0);
}

#sidebar ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

#sidebar li a {
    display: block;
    padding: 15px 20px;
    color: white;
    text-decoration: none;
    font-size: 22px;
    white-space: nowrap;
}

#sidebar li a:hover {
    background-color: #575757;
}

/* 左側透明觸發區塊：放在 canvas 之上以接收事件 */
#left-trigger {
    position: fixed;
    top: 0;
    left: 0;
    width: 100px; /* 觸發寬度，可調整 */
    height: 100%;
    z-index: 1000; /* 低於 sidebar，但高於 canvas */
    background: transparent;
}

/* 主要內容區塊（可視化於 demo） */
#content {
    padding: 16px;
    margin-left: 16px;
    z-index: 10;
}

/* iframe 容器樣式 */
#iframeContainer {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 70vw;
  height: 85vh;
  background: white;
  z-index: 2000;
  border-radius: 8px;
  box-shadow: 0 0 20px rgba(0,0,0,0.3);
  display: flex;
  flex-direction: column;
}

#iframeContainer.hidden {
  display: none;
}

#contentFrame {
  width: 100%;
  height: 100%;
  border: none;
  border-radius: 8px;
}

#closeFrame {
  position: absolute;
  top: -40px;
  right: 0;
  width: 36px;
  height: 36px;
  background: white;
  border: none;
  border-radius: 50%;
  font-size: 24px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}

#closeFrame:hover {
  background: #f0f0f0;
}

/* 簡單響應式調整：窄螢幕時縮小 sidebar 寬度與 iframe */
@media (max-width: 600px) {
  #sidebar { width: 220px; transform: translateX(-220px); }
  #sidebar.active { transform: translateX(0); }
  #iframeContainer {
    width: 90vw;
    height: 90vh;
  }
}